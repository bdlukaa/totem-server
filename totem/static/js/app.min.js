(()=>{var X=Object.create;var I=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var te=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var u=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var ie=(e,n,t,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of ee(n))!ne.call(e,o)&&o!==t&&I(e,o,{get:()=>n[o],enumerable:!(l=Y(n,o))||l.enumerable});return e};var oe=(e,n,t)=>(t=e!=null?X(te(e)):{},ie(n||!e||!e.__esModule?I(t,"default",{value:e,enumerable:!0}):t,e));var w=u(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});function le(e,n){if(!e)throw new Error(n)}P.default=le});var R=u(_=>{"use strict";var re=_&&_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});var p=re(w());function ae(e){p.default(Array.isArray(e.domains),"domains must be an array"),p.default(Array.isArray(e.topLevelDomains),"topLevelDomains must be an array"),p.default(Array.isArray(e.secondLevelDomains),"secondLevelDomains must be an array"),p.default(typeof e.distanceFunction=="function","distanceFunction must be a function")}_.default=ae});var k=u(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});function se(e){return encodeURI(e).replace(/%20/g," ").replace(/%25/g,"%").replace(/%5E/g,"^").replace(/%60/g,"`").replace(/%7B/g,"{").replace(/%7C/g,"|").replace(/%7D/g,"}")}b.default=se});var N=u(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});function ue(e){let{domain:n,domains:t,distanceFunction:l,threshold:o}=e,r,s=1/0,i=null;if(!(!n||!t)){for(let a=0;a<t.length;a++){if(n===t[a])return n;r=l(n,t[a]),r<s&&(s=r,i=t[a])}if(s<=o&&i!==null)return i}}O.default=ue});var j=u(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});var ce=/\s/;function de(e){return e.trim?e.trim():me(fe(e))}function fe(e){return e.trimLeft?e.trimLeft():e.replace(/^\s\s*/,"")}function me(e){if(e.trimRight)return e.trimRight();let n=e.length;for(;ce.test(e.charAt(--n)););return e.slice(0,n+1)}y.default=de});var C=u(h=>{"use strict";var _e=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});var he=_e(j()),ge=2;function Le(e){let t=he.default(e).split("@");if(t.length<ge)return!1;for(let i=0;i<t.length;i++)if(t[i]==="")return!1;let l="",o="",r=t.pop(),s=r.split(".");if(s.length===0)return!1;if(s.length==1)o=s[0];else{l=s[0];for(let i=1;i<s.length;i++)o+=s[i]+".";o=o.substring(0,o.length-1)}return{topLevelDomain:o,secondLevelDomain:l,domain:r,address:t.join("@")}}h.default=Le});var q=u(g=>{"use strict";var M=g&&g.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(g,"__esModule",{value:!0});var pe=M(k()),T=M(N()),ve=M(C());function De(e){let n=pe.default(e.email.toLowerCase()),t=ve.default(n);if(!t)return;let{domains:l,domainThreshold:o,distanceFunction:r,secondLevelDomains:s,topLevelDomains:i}=e;if(s&&i&&s.indexOf(t.secondLevelDomain)!==-1&&i.indexOf(t.topLevelDomain)!==-1)return;let a=T.default({domain:t.domain,domains:l,distanceFunction:r,threshold:o});if(a)return a==t.domain?void 0:{address:t.address,domain:a,full:t.address+"@"+a};let m=T.default({domain:t.secondLevelDomain,domains:s,distanceFunction:r,threshold:e.secondLevelThreshold}),D=T.default({domain:t.topLevelDomain,domains:i,distanceFunction:r,threshold:e.topLevelThreshold});if(t.domain){a=t.domain;let A=!1;if(m&&m!=t.secondLevelDomain&&(a=a.replace(t.secondLevelDomain,m),A=!0),D&&D!=t.topLevelDomain&&t.secondLevelDomain!==""&&(a=a.replace(new RegExp(t.topLevelDomain+"$"),D),A=!0),A)return{address:t.address,domain:a,full:t.address+"@"+a}}}g.default=De});var z=u(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});function Ae(e,n){if(e==null||e.length===0)return n==null||n.length===0?0:n.length;if(n==null||n.length===0)return e.length;let t=0,l=0,o=0,r=0,s=5;for(;t+l<e.length&&t+o<n.length;){if(e.charAt(t+l)==n.charAt(t+o))r++;else{l=0,o=0;for(let i=0;i<s;i++){if(t+i<e.length&&e.charAt(t+i)==n.charAt(t)){l=i;break}if(t+i<n.length&&e.charAt(t)==n.charAt(t+i)){o=i;break}}}t++}return(e.length+n.length)/2-r}E.default=Ae});var F=u(d=>{"use strict";var Pe=d&&d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});d.POPULAR_TLDS=d.POPULAR_DOMAINS=d.DEFAULT_CONFIG=void 0;var be=Pe(z()),G=["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","optonline.net","sbcglobal.net","aol.com","aim.com","me.com","mailw.com","btinternet.com","charter.net","shaw.ca","hey.com","proton.me","pm.com","protonmail.com","zoho.com","yandex.com","titan.email"];d.POPULAR_DOMAINS=G;var $=["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","it","ru","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","net","net.au","info","biz","mil","co.jp","sg","hu","uk","sk","ar","cf","cl","cn","ga","gq","ir","ml","mx","nu","nz","ph","pl","ro","tk","tw","ua","vg","ws","xn","za","app","au","ai","biz","br","blog","cloud","club","cc","de","dev","digital","fi","finance","id","in","io","me","mobi","network","pw","so","xyz","software","to","tech"];d.POPULAR_TLDS=$;var Oe={domainThreshold:2,domains:G,secondLevelThreshold:2,secondLevelDomains:["yahoo","hotmail","mail","live","outlook"],topLevelThreshold:2,topLevelDomains:$,distanceFunction:be.default};d.DEFAULT_CONFIG=Oe});var x=u(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});var f=F();function ye(e){return{email:e.email,domains:e.domains||f.DEFAULT_CONFIG.domains,topLevelDomains:e.topLevelDomains||f.DEFAULT_CONFIG.topLevelDomains,secondLevelDomains:e.secondLevelDomains||f.DEFAULT_CONFIG.secondLevelDomains,distanceFunction:e.distanceFunction||f.DEFAULT_CONFIG.distanceFunction,domainThreshold:e.domainThreshold||f.DEFAULT_CONFIG.domainThreshold,secondLevelThreshold:e.secondLevelThreshold||f.DEFAULT_CONFIG.secondLevelThreshold,topLevelThreshold:e.topLevelThreshold||f.DEFAULT_CONFIG.topLevelThreshold,suggested:e.suggested||void 0,empty:e.suggested||void 0}}S.default=ye});var W=u(L=>{"use strict";var U=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L,"__esModule",{value:!0});var Te=U(R()),Me=U(q()),Ee=U(x());function Fe(e){let n=Ee.default(e);Te.default(n||{});let t=Me.default(n);return!t&&e.empty&&e.empty(),t&&e.suggested&&e.suggested(t),t}L.default=Fe});var H=u(c=>{"use strict";var Se=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});c.POPULAR_TLDS=c.POPULAR_DOMAINS=c.run=void 0;var B=Se(W());c.run=B.default;var v=F();Object.defineProperty(c,"POPULAR_DOMAINS",{enumerable:!0,get:function(){return v.POPULAR_DOMAINS}});Object.defineProperty(c,"POPULAR_TLDS",{enumerable:!0,get:function(){return v.POPULAR_TLDS}});var Ue={run:B.default,POPULAR_DOMAINS:v.POPULAR_DOMAINS,POPULAR_TLDS:v.POPULAR_TLDS};c.default=Ue});var J=oe(H());function Ie(e,n=300){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>{e.apply(this,l)},n)}}function we(){document.querySelectorAll("input[type=email]").forEach(e=>{function n(l){let o=l.target.parentElement.querySelector(".email-alert-dismissible");o&&o.remove()}let t=l=>{let o=l.target.value.trim(),r=J.default.run({email:o});if(n(l),!r)return;let s=`<button class="text-sm">Is your email <strong>${r.full}</strong>?</button>`,i=document.createElement("div");i.classList.add("email-alert-dismissible"),i.innerHTML=s,i.onclick=a=>{n(l),e.value=r.full},e.after(i)};e.addEventListener("keyup",Ie(t))})}var V=we;function Re(){console.log("rruleWidget.js"),document.addEventListener("alpine:init",()=>{let e={outOfOrder:!1},n=new uFuzzy(e),t=JSON.parse(document.getElementById("search_data").textContent),l=t.map(r=>`${r.prompt} ${r.tags.join(" ")}`),o=[...new Set(t.map(r=>r.tags).flat())].sort();Alpine.data("rrule",()=>({search:"",items:t,tags:o,get filteredItems(){if(this.search==="")return this.items;let[r,s,i]=n.search(l,this.search);return console.log(this.search),i?i.map(a=>r.map(m=>this.items[m])[a]):this.items}}))})}var Z=Re;var K=function(){var e=null,n={};return n.enableLogger=function(){e!=null&&(window.console.log=e)},n.disableLogger=function(){e=console.log,window.console.log=function(){}},n}();function ke(e){e===!0?K.enableLogger():K.disableLogger()}var Q=ke;dismiss_alert=function(e){e.closest(".alert-dismissible").remove()};var Ne=Intl.DateTimeFormat().resolvedOptions().timeZone;document.cookie=`totem_timezone=${Ne}; SameSite=Strict`;window.addEventListener("DOMContentLoaded",()=>{V(),Z()});Q(window.TOTEM_DATA.debug);})();
//# sourceMappingURL=app.min.js.map
